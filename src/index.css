@import './styles/_variables.scss';
@import './styles/_keyframe-animations.scss';

@tailwind base;
@tailwind components;
@tailwind utilities;


html, body {
	background: var(--tt-bg-color);
	color: var(--tt-color-text-gray);
	transition: background 200ms ease, color 200ms ease;
}


[class*="border-"][class*="rounded"] {
	background: var(--tt-card-bg-color) !important;
	border-color: var(--tt-card-border-color) !important;
	color: var(--tt-color-text-gray) !important;
}


.dark body::before {
	content: "";
	position: fixed;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	pointer-events: none;
	/* simplified decorative gradients to avoid expensive blend modes */
	background-image: radial-gradient(circle at 10% 10%, rgba(99,102,241,0.03), transparent 6%), radial-gradient(circle at 90% 80%, rgba(236,72,153,0.02), transparent 8%);
}

.dark img {
	filter: saturate(0.95) contrast(0.95) brightness(0.95);
	transition: filter 200ms ease;
}


.dark h2 {
	text-shadow: 0 2px 8px rgba(98, 41, 255, 0.08);
}


.dark footer, .dark header {
	background: transparent;
}


.fixed.bottom-6.right-6 {
	transform: translateZ(0);
}


.card-border {
	border-width: 10px;
	border-image-source: url('/border.png');
	border-image-slice: 10;
	border-image-repeat: round;
	border-image-outset: 0;
	border-image-width: 10px;
	border-radius: 0.75rem;
	position: relative;
	background: transparent;
	overflow: visible;
}

/* Rainbow tag animation for special tags */
@keyframes rainbow-slide {
	0% { background-position: 0% 50%; }
	50% { background-position: 100% 50%; }
	100% { background-position: 0% 50%; }
}

.rainbow-tag {
	background-size: 300% 100%;
	animation: rainbow-slide 3s linear infinite, rainbow-colors 6s linear infinite;
	-webkit-backface-visibility: hidden;
}

@keyframes rainbow-colors {
	0% {
		background-image: linear-gradient(90deg, #ff4d4d, #ffb84d, #fff14d, #4dff88, #4da6ff, #b84dff);
	}
	25% {
		background-image: linear-gradient(90deg, #ffb84d, #fff14d, #4dff88, #4da6ff, #b84dff, #ff4d4d);
	}
	50% {
		background-image: linear-gradient(90deg, #fff14d, #4dff88, #4da6ff, #b84dff, #ff4d4d, #ffb84d);
	}
	75% {
		background-image: linear-gradient(90deg, #4dff88, #4da6ff, #b84dff, #ff4d4d, #ffb84d, #fff14d);
	}
	100% {
		background-image: linear-gradient(90deg, #ff4d4d, #ffb84d, #fff14d, #4dff88, #4da6ff, #b84dff);
	}
}

/* glossy sheen overlay for shiny effect */
.rainbow-tag {
	position: relative;
	overflow: hidden;
}

.rainbow-tag::after {
	content: "";
	position: absolute;
	top: 0;
	left: -60%;
	width: 60%;
	height: 100%;
	pointer-events: none;
	transform: skewX(-20deg);
	background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0) 100%);
	filter: blur(0.5px);
	opacity: 0.85;
	animation: rainbow-sheen 2.8s linear infinite;
}

@keyframes rainbow-sheen {
	0% { left: -60%; }
	100% { left: 160%; }
}

.card-border::before {
	content: '';
	position: absolute;
	inset: 0px;
	border-radius: calc(0.75rem - 10px);
	background: var(--tt-card-bg-color);
	z-index: 0;
	pointer-events: none;
}

.card-border > * {
	position: relative;
	z-index: 1;
}

/* card hover animation: only in blog page - use transforms and box-shadow for efficient GPU compositing */
.blog-page .card-border {
	transition: transform 200ms cubic-bezier(.2,.8,.2,1), box-shadow 200ms cubic-bezier(.2,.8,.2,1);
	will-change: transform, box-shadow;
}

.blog-page .card-border img {
	transition: transform 220ms cubic-bezier(.2,.8,.2,1);
	will-change: transform;
}

.blog-page .card-border:hover {
	transform: translateY(-6px);
	box-shadow: 0 12px 30px rgba(2,6,23,0.35);
}

.blog-page .card-border:hover img {
	transform: scale(1.03);
}

.dark .card-border {
	border-image-source: none !important;
	border-image: none !important;
	border-width: 1px !important;
	border-style: solid !important;
	border-color: rgba(255,255,255,0.06) !important;
	box-shadow: 0 4px 12px rgba(2,6,23,0.45);
	background: var(--tt-card-bg-color);
	color: var(--white) !important;
}

.dark .card-border::before {
	/* solid card fill in dark mode (no glass blur / no transparency) */
	background: var(--tt-card-bg-color);
}

.dark .card-border h2 {
	color: var(--tt-color-text-blue) !important;
}

.dark .card-border p,
.dark .card-border a,
.dark .card-border span,
.dark .card-border li,
.dark .card-border div {
	color: rgba(255,255,255,0.92) !important;
}


:root {
	--page-bg: url('/src/assets/background.jpeg');
}
.dark {
	--page-bg: url('/src/assets/dark.jpg');
}

/* Pin the page background so it doesn't move while scrolling */
[style*="var(--page-bg)"] {
	background-attachment: fixed !important;
	background-position: center center !important;
	background-size: cover !important;
}
